DROP TABLE t_user;
DROP TABLE t_team;

CREATE TABLE t_team (
  team_id      CHAR(36) CONSTRAINT unique_team_id PRIMARY KEY,
  team_name    VARCHAR(100) NOT NULL UNIQUE,
  max_capacity INT          NOT NULL,
  update_date  TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE t_user (
  user_id  CHAR(36),
  team_id CHAR(36)     NOT NULL,
  user_name     VARCHAR(100) NOT NULL UNIQUE,
  first_name    VARCHAR(100) NOT NULL,
  last_name     VARCHAR(100) NOT NULL,
  email         VARCHAR(25),
  password      VARCHAR(32),
  CONSTRAINT unique_user_id PRIMARY KEY (user_id),
  FOREIGN KEY (team_id)
  REFERENCES t_team (team_id)
);

INSERT INTO t_team (team_id, team_name, max_capacity) VALUES ('56ae13d3efa1681bd099e177', 'T_DDD', 5);
INSERT INTO t_team (team_id, team_name, max_capacity) VALUES ('56ae13d3efa1681bd099e178', 'T_CQRS', 3);

INSERT INTO t_user (user_id, user_name, first_name, last_name, email, team_id)
VALUES ('56ae13d3efa1681bd099e179', 'iv', 'Ivan', 'Ivanov', 'ivan@mail.com',  '56ae13d3efa1681bd099e177');
INSERT INTO t_user (user_id, user_name, first_name, last_name, email, team_id)
VALUES ('56ae13d3efa1681bd099e180', 'petr', 'Petr', 'Petrov', 'petr@mail.com',  '56ae13d3efa1681bd099e177');
INSERT INTO t_user (user_id, user_name, first_name, last_name, email, team_id)
VALUES ('56ae13d3efa1681bd099e181', 'sidor', 'Sidor', 'Sidorov', 'sidor@mail.com',  '56ae13d3efa1681bd099e178');


